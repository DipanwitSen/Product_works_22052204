<!DOCTYPE html>
<html>
  <head>
    <title>Checkout - {{ product['name'] }}</title>
    <style>
      body {
        font-family: "Segoe UI", sans-serif;
        background: #fef9e7;
        text-align: center;
        padding-top: 50px;
      }
      .box {
        display: inline-block;
        padding: 30px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        text-align: left;
      }
      h2 {
        color: #ff6b81;
        text-align: center;
      }
      p {
        font-size: 1.1em;
      }
      .razorpay-btn {
        margin-top: 20px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="box">
      <h2>Checkout - {{ product['name'] }}</h2>
      <p><strong>Unit Price:</strong> ₹{{ product['price'] }}</p>
      <p><strong>Quantity:</strong> {{ quantity }}</p>
      {% if variant_string %}
      <p><strong>Variants:</strong> {{ variant_string }}</p>
      {% endif %}
      <hr />
      <p><strong>Total Amount:</strong> ₹{{ product['price'] * quantity }}</p>

      <form
        action="/payment_success?product_id={{ product['id'] }}&quantity={{ quantity }}&variants={{ variant_string }}"
        method="POST"
      >
        <script
          src="https://checkout.razorpay.com/v1/checkout.js"
          data-key="rzp_test_RJbeRtchCzjRnl"
          data-amount="{{ razorpay_order['amount'] }}"
          data-currency="INR"
          data-order_id="{{ razorpay_order['id'] }}"
          data-buttontext="Pay Now"
          data-name="LocalMart"
          data-description="Product Purchase"
          data-image="{{ url_for('static', filename='logo.png') }}"
          data-prefill.name="{{ session['username'] }}"
          data-theme.color="#F37254"
        ></script>
      </form>
    </div>
  </body>
</html>
